/* === Base === */
#ui-root {
    user-select: none;
    -webkit-user-select: none;
}

.hidden {
    display: none !important;
}

/* === Main Menu === */
.main-menu {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    overflow: hidden;
}

.menu-canvas {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: block;
}

.menu-overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: linear-gradient(
        to bottom,
        rgba(0,0,0,0.45) 0%,
        rgba(0,0,0,0.0)  25%,
        rgba(0,0,0,0.0)  55%,
        rgba(0,0,0,0.55) 100%
    );
    pointer-events: none;
}

.menu-content {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 50px;
}

/* --- Logo --- */
.menu-logo-wrap {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    animation: menuFadeUp 1.1s 0.1s cubic-bezier(0.16,1,0.3,1) both;
}

.menu-eyebrow {
    font-size: 12px;
    letter-spacing: 7px;
    color: rgba(247, 201, 72, 0.55);
    text-transform: uppercase;
    animation: menuFadeUp 1.1s 0.15s cubic-bezier(0.16,1,0.3,1) both;
}

.menu-title-top {
    font-size: 54px;
    font-weight: 300;
    letter-spacing: 20px;
    color: rgba(255,255,255,0.82);
    text-transform: uppercase;
    line-height: 1;
    animation: menuFadeUp 1.1s 0.25s cubic-bezier(0.16,1,0.3,1) both;
}

.menu-title-main {
    font-size: 112px;
    font-weight: 900;
    letter-spacing: 6px;
    text-transform: uppercase;
    line-height: 0.88;
    background: linear-gradient(120deg, #ff6b35 0%, #f7c948 38%, #ffcc55 55%, #ff6b35 100%);
    background-size: 250% 250%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0 0 40px rgba(255,107,53,0.45));
    animation: menuFadeUp 1.1s 0.35s cubic-bezier(0.16,1,0.3,1) both,
               gradientShift 5s 1.5s ease-in-out infinite;
}

.menu-title-rule {
    width: 220px;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(247,201,72,0.55), transparent);
    margin: 10px 0 6px;
    animation: menuFadeUp 1.1s 0.45s cubic-bezier(0.16,1,0.3,1) both;
}

.menu-title-sub {
    font-size: 15px;
    letter-spacing: 3px;
    color: #ffffff;
    font-style: italic;
    animation: menuFadeUp 1.1s 0.55s cubic-bezier(0.16,1,0.3,1) both;
}

/* --- Buttons --- */
.menu-btn-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 14px;
    animation: menuFadeUp 1.1s 0.75s cubic-bezier(0.16,1,0.3,1) both;
}

.menu-btn {
    position: relative;
    padding: 15px 70px;
    font-size: 17px;
    font-weight: 700;
    letter-spacing: 5px;
    text-transform: uppercase;
    cursor: pointer;
    border: none;
    background: transparent;
    color: #fff;
    overflow: hidden;
    transition: transform 0.2s ease, color 0.25s ease;
}

/* Border frame via pseudo-element */
.menu-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    border: 2px solid rgba(255,107,53,0.65);
    background: rgba(255,107,53,0.06);
    transition: border-color 0.3s, box-shadow 0.3s, background 0.3s;
}

/* Shimmer sweep on hover */
.menu-btn::after {
    content: '';
    position: absolute;
    top: 0; left: -100%;
    width: 60%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.12), transparent);
    transition: left 0.45s ease;
}

.menu-btn:hover {
    transform: scale(1.05);
    color: #f7c948;
}

.menu-btn:hover::before {
    border-color: #f7c948;
    background: rgba(247,201,72,0.07);
    box-shadow: 0 0 22px rgba(247,201,72,0.35), inset 0 0 16px rgba(247,201,72,0.05);
}

.menu-btn:hover::after {
    left: 150%;
}

.menu-btn-arrow {
    margin-right: 10px;
    font-size: 13px;
    display: inline-block;
    transition: transform 0.2s ease;
}

.menu-btn:hover .menu-btn-arrow {
    transform: translateX(5px);
}

/* --- Version tag --- */
.menu-version {
    position: absolute;
    bottom: 22px;
    right: 26px;
    font-size: 11px;
    letter-spacing: 2px;
    color: rgba(255,255,255,0.22);
    text-transform: uppercase;
    animation: menuFadeUp 1.4s 1.1s cubic-bezier(0.16,1,0.3,1) both;
}

/* --- Keyframes --- */
@keyframes menuFadeUp {
    from { opacity: 0; transform: translateY(28px); }
    to   { opacity: 1; transform: translateY(0);    }
}

@keyframes gradientShift {
    0%, 100% { background-position: 0%   50%; }
    50%       { background-position: 100% 50%; }
}



/* === Buttons === */
.btn {
    padding: 15px 40px;
    font-size: 20px;
    font-weight: 700;
    border: 2px solid #ff6b35;
    background: rgba(255, 107, 53, 0.15);
    color: #ff6b35;
    cursor: pointer;
    transition: all 0.2s;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.btn:hover {
    background: #ff6b35;
    color: #000;
    transform: scale(1.05);
}

.btn-secondary {
    border-color: #666;
    color: #999;
    background: rgba(100, 100, 100, 0.15);
}

.btn-secondary:hover {
    background: #666;
    color: #fff;
}

/* === Selection Screens (Character + Weapon) === */
.sel-screen {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    overflow: hidden;
}

.sel-overlay {
    background: linear-gradient(
        to bottom,
        rgba(0,0,0,0.6)  0%,
        rgba(0,0,0,0.25) 35%,
        rgba(0,0,0,0.25) 60%,
        rgba(0,0,0,0.75) 100%
    );
}

/* Static content container (char select) */
.sel-content {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 26px;
    z-index: 2;
    padding: 24px 16px;
    box-sizing: border-box;
    overflow-y: auto;
}

/* Dynamic content container (weapon select, rebuilt each show) */
.sel-dynamic-content {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 2;
    overflow-y: auto;
}

/* --- Header --- */
.sel-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    animation: menuFadeUp 0.65s 0.05s cubic-bezier(0.16,1,0.3,1) both;
}

.sel-step {
    font-size: 11px;
    letter-spacing: 6px;
    color: rgba(247,201,72,0.6);
    text-transform: uppercase;
}

.sel-title {
    font-size: 42px;
    font-weight: 900;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: #fff;
    margin: 0;
    text-shadow: 0 0 32px rgba(255,107,53,0.45);
}

.sel-rule {
    width: 160px;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(247,201,72,0.55), transparent);
    margin-top: 4px;
}

/* --- Character cards --- */
.sel-char-grid {
    display: flex;
    gap: 22px;
    flex-wrap: wrap;
    justify-content: center;
    animation: menuFadeUp 0.65s 0.15s cubic-bezier(0.16,1,0.3,1) both;
}

.sel-char-card {
    width: 218px;
    padding: 24px 18px 20px;
    border: 1px solid rgba(255,255,255,0.1);
    background: rgba(8,8,16,0.72);
    backdrop-filter: blur(10px);
    cursor: pointer;
    transition: transform 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.sel-char-card:hover {
    transform: translateY(-9px);
    border-color: rgba(255,107,53,0.7);
    box-shadow: 0 16px 44px rgba(255,107,53,0.22), 0 0 0 1px rgba(255,107,53,0.15);
}

.sel-char-avatar {
    width: 86px;
    height: 86px;
    border-radius: 50%;
    margin: 0 auto 4px;
    transition: box-shadow 0.25s ease;
}

.sel-char-card:hover .sel-char-avatar {
    box-shadow: 0 0 32px rgba(255,107,53,0.55) !important;
}

.sel-char-name {
    font-size: 18px;
    font-weight: 800;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: #fff;
}

.sel-char-desc {
    font-size: 11.5px;
    color: rgba(200,192,175,0.75);
    line-height: 1.55;
    font-style: italic;
}

.sel-char-stats {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 4px;
}

.sel-stat {
    display: flex;
    flex-direction: column;
    gap: 3px;
}

.sel-stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.sel-stat-label {
    font-size: 10px;
    letter-spacing: 1px;
    color: rgba(255,255,255,0.42);
    text-transform: uppercase;
}

.sel-stat-val {
    font-size: 12px;
    font-weight: 700;
    color: #f7c948;
}

.sel-stat-bar {
    width: 100%;
    height: 4px;
    background: rgba(255,255,255,0.1);
    border-radius: 2px;
    overflow: hidden;
}

.sel-stat-fill {
    height: 100%;
    border-radius: 2px;
    transition: width 0.45s ease;
}

.hp-fill  { background: linear-gradient(90deg, #cc3333, #ff5555); }
.spd-fill { background: linear-gradient(90deg, #1166cc, #44aaff); }

/* --- Back button --- */
.sel-back-btn {
    animation: menuFadeUp 0.65s 0.28s cubic-bezier(0.16,1,0.3,1) both;
    padding: 11px 46px !important;
    font-size: 13px !important;
}

/* --- Weapon cards --- */
.sel-weapon-grid {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    justify-content: center;
    max-width: 1150px;
    animation: menuFadeUp 0.65s 0.18s cubic-bezier(0.16,1,0.3,1) both;
}

.sel-weapon-card {
    width: 194px;
    padding: 20px 15px;
    border: 1px solid rgba(255,255,255,0.1);
    background: rgba(8,8,16,0.72);
    backdrop-filter: blur(10px);
    cursor: pointer;
    transition: transform 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 9px;
}

.sel-weapon-card:hover {
    transform: translateY(-8px);
    border-color: rgba(247,201,72,0.7);
    box-shadow: 0 14px 38px rgba(247,201,72,0.18), 0 0 0 1px rgba(247,201,72,0.12);
}

.sel-weapon-tag {
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
}

.sel-weapon-name {
    font-size: 15px;
    font-weight: 800;
    letter-spacing: 1px;
    color: #fff;
    text-transform: uppercase;
    line-height: 1.2;
}

.sel-weapon-desc {
    font-size: 11px;
    color: rgba(200,192,175,0.7);
    line-height: 1.55;
    flex: 1;
    margin: 0;
    font-style: italic;
}

.sel-weapon-stats {
    display: flex;
    flex-direction: column;
    gap: 5px;
    border-top: 1px solid rgba(255,255,255,0.08);
    padding-top: 8px;
    margin-top: 2px;
}

.sel-w-stat {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 11px;
}

.sel-w-label { color: rgba(255,255,255,0.42); }
.sel-w-val   { color: #f7c948; font-weight: 700; }

/* --- Character banner inside weapon select --- */
.sel-char-banner {
    display: flex;
    align-items: center;
    gap: 14px;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.1);
    padding: 10px 24px;
    backdrop-filter: blur(6px);
    animation: menuFadeUp 0.65s 0.0s cubic-bezier(0.16,1,0.3,1) both;
}

.sel-banner-avatar {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    flex-shrink: 0;
}

.sel-banner-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
    text-align: left;
    color: rgba(220,210,195,0.8);
    font-size: 13px;
}

.sel-banner-info strong {
    font-size: 16px;
    color: #fff;
    letter-spacing: 1px;
    text-transform: uppercase;
}

/* === HUD === */
.hud {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    pointer-events: none;
}

.hud-left {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.hud-center {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}

.hud-right {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 5px;
    font-size: 14px;
}

.bar-container {
    width: 250px;
    height: 20px;
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid #555;
    overflow: hidden;
}

.bar-fill {
    height: 100%;
    transition: width 0.2s;
}

.hp-bar .bar-fill {
    background: linear-gradient(90deg, #cc3333, #ff4444);
}

.xp-bar .bar-fill {
    background: linear-gradient(90deg, #3366cc, #44aaff);
}

.bar-label {
    font-size: 11px;
    line-height: 20px;
    text-align: center;
    position: relative;
    top: -20px;
    text-shadow: 1px 1px 2px #000;
}

/* === Armor Bar === */
.armor-bar .bar-fill {
    background: linear-gradient(90deg, #4466aa, #6699dd);
}

/* === Floating Damage Text === */
.floating-damage {
    position: absolute;
    font-size: 20px;
    font-weight: 900;
    pointer-events: none;
    text-shadow: 1px 1px 3px #000, -1px -1px 3px #000;
    transform: translateX(-50%);
    z-index: 100;
}

.wave-display {
    font-size: 24px;
    font-weight: 700;
    color: #f7c948;
    text-shadow: 2px 2px 4px #000;
}

.level-display {
    font-size: 16px;
    color: #44aaff;
}

/* === Day / Night HUD indicator === */
.day-night-display {
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 1px;
    padding: 3px 12px;
    border-radius: 20px;
    border: 1px solid transparent;
    transition: background 1s, color 1s, border-color 1s;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
}

.day-night-display.day {
    background: rgba(255, 220, 80, 0.15);
    color: #f7d050;
    border-color: rgba(255, 220, 80, 0.4);
}

.day-night-display.dusk {
    background: rgba(200, 80, 20, 0.20);
    color: #ff8844;
    border-color: rgba(200, 80, 20, 0.5);
}

.day-night-display.night {
    background: rgba(40, 40, 120, 0.35);
    color: #aabbff;
    border-color: rgba(80, 80, 200, 0.5);
    animation: night-pulse 2s ease-in-out infinite;
}

.day-night-display.dawn {
    background: rgba(150, 80, 180, 0.20);
    color: #cc99ff;
    border-color: rgba(150, 80, 180, 0.4);
}

@keyframes night-pulse {
    0%, 100% { box-shadow: 0 0 6px rgba(100, 120, 255, 0.3); }
    50%       { box-shadow: 0 0 18px rgba(100, 120, 255, 0.7); }
}

/* === Level Up Screen === */
.level-up-screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.75);
    gap: 30px;
}

.level-up-screen h2 {
    font-size: 42px;
    color: #f7c948;
    text-shadow: 0 0 20px rgba(247, 201, 72, 0.5);
}

.upgrade-cards {
    display: flex;
    gap: 20px;
}

.upgrade-card {
    width: 200px;
    padding: 25px 20px;
    border: 2px solid #555;
    background: rgba(20, 20, 30, 0.95);
    cursor: pointer;
    transition: all 0.2s;
    text-align: center;
}

.upgrade-card:hover {
    border-color: #f7c948;
    transform: translateY(-8px);
    box-shadow: 0 10px 30px rgba(247, 201, 72, 0.3);
}

.upgrade-card h3 {
    font-size: 18px;
    color: #f7c948;
    margin-bottom: 10px;
}

.upgrade-card p {
    font-size: 13px;
    color: #ccc;
}

/* === Pause Screen === */
.pause-screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.6);
    gap: 20px;
}

.pause-screen h2 {
    font-size: 48px;
    color: #fff;
    margin-bottom: 10px;
}

/* === Shop in Pause === */
.shop-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
}

.shop-title {
    font-size: 20px;
    color: #f7c948;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin: 0;
}

.shop-gold {
    font-size: 16px;
    color: #f7c948;
}

.shop-grid {
    display: flex;
    gap: 14px;
    flex-wrap: wrap;
    justify-content: center;
}

.shop-item {
    width: 170px;
    padding: 16px 14px;
    border: 2px solid #555;
    background: rgba(20, 20, 30, 0.95);
    cursor: pointer;
    transition: all 0.2s;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.shop-item:hover {
    border-color: #f7c948;
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(247, 201, 72, 0.25);
}

.shop-item-disabled {
    opacity: 0.4;
    cursor: not-allowed;
    pointer-events: none;
}

.shop-item-name {
    font-size: 15px;
    font-weight: 700;
    color: #fff;
}

.shop-item-desc {
    font-size: 12px;
    color: #aaa;
}

.shop-item-cost {
    font-size: 14px;
    font-weight: 700;
    color: #f7c948;
    margin-top: 4px;
}

/* === Wave End Screen === */
.wave-end-screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.75);
    gap: 20px;
}

.wave-end-screen h2 {
    font-size: 42px;
    color: #4caf50;
    text-shadow: 0 0 20px rgba(76, 175, 80, 0.5);
}

/* === Game Over === */
.game-over-screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.8);
    gap: 15px;
}

.game-over-screen h2 {
    font-size: 56px;
    color: #cc3333;
    text-shadow: 0 0 20px rgba(204, 51, 51, 0.5);
    margin-bottom: 10px;
}

.game-over-screen .stats-list {
    font-size: 18px;
    color: #ccc;
    text-align: center;
    line-height: 2;
}



