/**
 * @import { VertexBuffer } from '../../platform/graphics/vertex-buffer.js'
 * @import { StorageBuffer } from '../../platform/graphics/storage-buffer.js'
 * @import { Layer } from '../layer.js'
 * @import { GraphNode } from '../graph-node.js'
 * @import { GraphicsDevice } from '../../platform/graphics/graphics-device.js'
 * @import { GSplatWorkBuffer } from './gsplat-work-buffer.js'
 */
/**
 * Class that renders the splats from the work buffer.
 *
 * @ignore
 */
export class GSplatRenderer {
    /**
     * @param {GraphicsDevice} device - The graphics device.
     * @param {GraphNode} node - The graph node.
     * @param {GraphNode} cameraNode - The camera node.
     * @param {Layer} layer - The layer to add mesh instances to.
     * @param {GSplatWorkBuffer} workBuffer - The work buffer containing splat data.
     */
    constructor(device: GraphicsDevice, node: GraphNode, cameraNode: GraphNode, layer: Layer, workBuffer: GSplatWorkBuffer);
    /** @type {ShaderMaterial} */
    _material: ShaderMaterial;
    /** @type {MeshInstance} */
    meshInstance: MeshInstance;
    /** @type {VertexBuffer|null} */
    instanceIndices: VertexBuffer | null;
    /** @type {number} */
    instanceIndicesCount: number;
    /** @type {Layer} */
    layer: Layer;
    /** @type {GraphNode} */
    cameraNode: GraphNode;
    /** @type {number} */
    originalBlendType: number;
    /** @type {number|undefined} */
    renderMode: number | undefined;
    /** @type {Set<string>} */
    _internalDefines: Set<string>;
    /** @type {boolean} */
    forceCopyMaterial: boolean;
    /**
     * Cached work buffer format version for detecting extra stream changes.
     *
     * @type {number}
     * @private
     */
    private _workBufferFormatVersion;
    device: GraphicsDevice;
    node: GraphNode;
    workBuffer: GSplatWorkBuffer;
    /**
     * Sets the render mode for this renderer, managing layer array membership.
     *
     * @param {number} renderMode - Bitmask flags controlling render passes (GSPLAT_FORWARD, GSPLAT_SHADOW, or both).
     */
    setRenderMode(renderMode: number): void;
    destroy(): void;
    get material(): ShaderMaterial;
    configureMaterial(): void;
    /**
     * Binds work buffer textures to the material.
     *
     * @private
     */
    private _bindWorkBufferTextures;
    /**
     * Injects format shader chunks into the material.
     * Called during initialization and after copying settings from user material.
     * @private
     */
    private _injectFormatChunks;
    update(count: any, textureSize: any): void;
    setOrderData(): void;
    /**
     * Sets a storage buffer containing sorted indices directly as the order data.
     * Used by GPU sorting to bypass CPU upload.
     *
     * @param {StorageBuffer} buffer - The storage buffer containing sorted indices (u32 values).
     */
    setOrderBuffer(buffer: StorageBuffer): void;
    frameUpdate(params: any): void;
    /**
     * Updates the ID-related defines based on whether pcId stream exists.
     *
     * @private
     */
    private _updateIdDefines;
    /**
     * Syncs with work buffer format when extra streams are added.
     *
     * @private
     */
    private _syncWithWorkBufferFormat;
    /**
     * Copies material settings from a source material to the internal material.
     * Preserves internal defines while copying user defines, parameters, and shader chunks.
     *
     * @param {ShaderMaterial} sourceMaterial - The source material to copy settings from.
     * @private
     */
    private copyMaterialSettings;
    updateOverdrawMode(params: any): void;
    setMaxNumSplats(numSplats: any): void;
    createMeshInstance(): MeshInstance;
}
import { ShaderMaterial } from '../materials/shader-material.js';
import { MeshInstance } from '../mesh-instance.js';
import type { VertexBuffer } from '../../platform/graphics/vertex-buffer.js';
import type { Layer } from '../layer.js';
import type { GraphNode } from '../graph-node.js';
import type { GraphicsDevice } from '../../platform/graphics/graphics-device.js';
import type { GSplatWorkBuffer } from './gsplat-work-buffer.js';
import type { StorageBuffer } from '../../platform/graphics/storage-buffer.js';
